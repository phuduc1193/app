<md-card class="form-container-lg fixed-form" [@flyInOut] *ngIf="step == 0">
  <md-card-title>
    Basic Information
  </md-card-title>
  <md-card-content class="text-center">
    <form novalidate [formGroup]="basicForm">
       <table class="full-width" cellspacing="0">
        <tr>
          <td>
            <md-input-container class="full-width input-lg" flex>
              <input mdInput placeholder="First Name" formControlName="firstName">
            </md-input-container>
          </td>
          <td>
            <md-input-container class="full-width input-lg" flex>
              <input mdInput placeholder="Last Name" formControlName="lastName">
            </md-input-container>
          </td>
          <td>
            <md-input-container class="input-lg" flex>
              <input mdInput placeholder="Middle Name or Initial">
            </md-input-container>
          </td>
        </tr>
        <tr class="text-center">
          <td>
            <control-message [control]="basicForm.controls.firstName"></control-message>
          </td>
          <td>
            <control-message [control]="basicForm.controls.lastName"></control-message>
          </td>
          <td>
            <control-message [control]="basicForm.controls.middleName"></control-message>
          </td>
        </tr>
      </table> 
      <table class="full-width" cellspacing="0"><tr>
        <td>
          <md-input-container class="full-width input-lg" flex>
            <input mdInput placeholder="Email" formControlName="email">
          </md-input-container>
        </td>
        <td class="text-right">
          <md-radio-group formControlName="gender" class="input-lg">
            <md-radio-button *ngFor="let gender of listGenders" [value]="gender.name" style="margin: 0 3em 0 0">{{gender.name}}</md-radio-button>
          </md-radio-group>
        </td>
      </tr><tr>
        <td>
          <control-message [control]="basicForm.controls.email"></control-message>
        </td>
        <td>
          <control-message [control]="basicForm.controls.gender"></control-message>
        </td>
      </tr>
      </table>
      <div formArrayName="phones">
        <table class="full-width" [formGroupName]="i" cellspacing="0" *ngFor="let phone of phones.controls; let i = index;">
          <tr>
            <td>
              <md-input-container class="full-width input-lg" flex>
                <input mdInput placeholder="Phone Number" formControlName="value">
              </md-input-container>
            </td>
            <td>
              <md-select placeholder="Phone Type" formControlName="type">
                <md-option *ngFor="let phoneType of listPhoneTypes" [value]="phoneType.name">{{phoneType.name}}</md-option>
              </md-select>
            </td>
            <td>
              <md-icon *ngIf="i == 0" (click)="addPhone()" class="icon-link icon-primary">add_circle</md-icon>
              <md-icon *ngIf="i != 0" (click)="removePhone(i)" class="icon-link icon-danger" color="accent">remove_circle</md-icon>
            </td>
          </tr>
          <tr>
            <td>
              <control-message [control]="phone.controls.value"></control-message>
            </td>
          </tr>
        </table>
      </div>
    </form>
    <table class="full-width">
      <tr>
        <td><button md-raised-button routerLink="/home">Cancel</button></td>
        <td><button md-raised-button [disabled]="!basicForm.valid" color="accent" (click)="setStep(1)">Next</button></td>
      </tr>
    </table>
  </md-card-content>
</md-card>

<md-card class="form-container-lg fixed-form" [@flyInOut] *ngIf="step == 1">
  <md-card-title>
    Personal Reference
  </md-card-title>
  <md-card-content class="text-center">
    <form novalidate [formGroup]="referenceForm">
      <div formArrayName="addresses">
        <table [formGroupName]="i" cellspacing="0" *ngFor="let address of addresses.controls; let i = index;">
          <tr>
            <td>
              <md-input-container class="full-width input-lg" flex>
                <input mdInput placeholder="Address" formControlName="street">
              </md-input-container>
            </td>
            <td>
              <md-input-container class="input-lg" flex>
                <input mdInput placeholder="City" formControlName="locality">
              </md-input-container>
            </td>
            <td>
              <md-input-container class="input-lg" flex>
                <input mdInput placeholder="Zip code" formControlName="postal_code">
              </md-input-container>
            </td>
            <td>
              <md-input-container class="input-lg" flex>
                <input mdInput placeholder="Country" formControlName="region">
              </md-input-container>
            </td>
            <td>
              <md-icon *ngIf="i == 0" (click)="addAddress()" class="icon-link icon-primary">add_circle</md-icon>
              <md-icon *ngIf="i != 0" (click)="removeAddress(i)" class="icon-link icon-danger" color="accent">remove_circle</md-icon>
            </td>
          </tr>
        </table>
      </div>
    </form>
    <table class="full-width">
      <tr>
        <td><button md-raised-button (click)="setStep(0)">Back</button></td>
        <td><button md-raised-button [disabled]="!referenceForm.valid" color="accent">Next</button></td>
      </tr>
    </table>
  </md-card-content>
</md-card>